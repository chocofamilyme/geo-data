# Бибилиотека для генерации географических данных по IP адресу

## Конфигурации

Сервис гео-данных принимает объект конфигурации как один из аргументов. Этот объект должен содержать в себе следующие
 параметры:

| Ключ              | Значение              | Описание  |
|-------------------|:----------------------|:----------|
| cache_prefix_key  | По умолчанию `geo_`   | Префикс для ключа кэша |
| cache_time        | По умолчанию 259200 (3 дня) | Время жизни кэша |

Кэш используется чтобы не было лишних запросов для получения данных по IP, так как эти данные постоянные.

## Применение
Гео-данные можно получить следующим образом:
```php
...
$geoDataService = new GeoDataService($this->config, $this->cache);
/** @var \Chocofamily\GeoData\DTO\GeoDTO $geoData */
$geoDTO        = $geoDataService->getGeoDTO($ipAddress);

/** Можно достать данные по-отдельности */
$country = $geoDTO->country;
$city    = $geoDTO->city;
$region  = $geoDTO->region;
$lat     = $geoDTO->lat;
$lon     = $geoDTO->lon;

/**
 * Либо можно достать в виде массива. Пример:
 * [
 *      'country' => 'Kazakhstan',
 *      'city' => 'Almaty',
 *      'region' => 'ALA',
 *      'lat' => '12.345',
 *      'lon' => '12.345',
 * ]
 */
$geoData = $geoDTO->toArray();
...
```
